



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.2">
    
    
      
        <title>Using the Git Log - DSSG Hitchhickers guide</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/application.3020aac5.css">
      
        <link rel="stylesheet" href="../../../../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#ef5350">
      
    
    
      <script src="../../../../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="red" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#using-the-git-log" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../../../.." title="DSSG Hitchhickers guide" class="md-header-nav__button md-logo">
          
            <i class="md-icon">bubble_chart</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              DSSG Hitchhickers guide
            </span>
            <span class="md-header-nav__topic">
              Using the Git Log
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/dssg/hitchhikers-guide/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    dssg/hitchhikers-guide
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../../../.." title="DSSG Hitchhickers guide" class="md-nav__button md-logo">
      
        <i class="md-icon">bubble_chart</i>
      
    </a>
    DSSG Hitchhickers guide
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/dssg/hitchhikers-guide/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    dssg/hitchhikers-guide
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      DSSG Manual
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        DSSG Manual
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../../dssg-manual/conduct-culture-and-communications/" title="Code of conduct" class="md-nav__link">
      Code of conduct
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../../dssg-manual/summer-overview/" title="Summer overview" class="md-nav__link">
      Summer overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Curriculum
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Curriculum
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../" title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../0_before_you_start/" title="Before you start" class="md-nav__link">
      Before you start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../1_getting_and_keeping_data/" title="Getting and keeping data" class="md-nav__link">
      Getting and keeping data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../" title="Data exploration and analysis" class="md-nav__link">
      Data exploration and analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../3_modeling_and_machine_learning/" title="Modeling and ML" class="md-nav__link">
      Modeling and ML
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../4_programming_best_practices/" title="Programming best practices" class="md-nav__link">
      Programming best practices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../5_presentations_and_communications/" title="Presentations and communications" class="md-nav__link">
      Presentations and communications
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#using-the-git-log" title="Using the Git Log" class="md-nav__link">
    Using the Git Log
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-python-script-to-output-results-of-analyzing-311-calls" title="Create a python script to output results of analyzing 311 calls" class="md-nav__link">
    Create a python script to output results of analyzing 311 calls
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/dssg/hitchhikers-guide/edit/master/docs/curriculum/2_data_exploration_and_analysis/git-and-github/basic_git_tutorial/03_UsingTheGitLog.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Using the Git Log</h1>
                
                <h2 id="using-the-git-log">Using the Git Log<a class="headerlink" href="#using-the-git-log" title="Permanent link">&para;</a></h2>
<p>In this portion of the tutorial we are going to explore the git log
and how to go back to prior parts of our project. We left off creating
a README file. Now the time has come to actually write some code.</p>
<h3 id="create-a-python-script-to-output-results-of-analyzing-311-calls">Create a python script to output results of analyzing 311 calls<a class="headerlink" href="#create-a-python-script-to-output-results-of-analyzing-311-calls" title="Permanent link">&para;</a></h3>
<p>Let's download some data to work with using the following command you can copy and paste.
<div class="highlight"><pre><span></span>&gt; curl -O https://raw.githubusercontent.com/avishekrk/pandas-cookbook/master/data/311-service-requests.csv
</pre></div></p>
<p>Fire up your favorite text editor and let's write a little program
called <code>descriptive_stats.py</code> to get the most common complaints
from 311 data in NYC.</p>
<p>If you are using <code>nano</code> invoke the command
<div class="highlight"><pre><span></span>&gt; nano descriptive_stats.py
</pre></div>
Add the following in the text. Don't worry you don't need to know what this means
right now. We are loading some data into and finding the top 5 categories of
complaints using 311 data.</p>
<div class="highlight"><pre><span></span>from __future__ import print_function
import pandas as pd

fname_data = &#39;311-service-requests.csv&#39;
df_311_calls = pd.read_csv(fname_data)
print( df_311_calls[&#39;Complaint Type&#39;].value_counts()[:5])
</pre></div>

<p>Remember, to save the program in nano the command is <code>Ctrl-O</code> and
the to exit is <code>Ctrl-X</code>.</p>
<p>We have just created a python program. We can run the program
using the following syntax.
<div class="highlight"><pre><span></span>&gt; python &lt;program name&gt;
</pre></div></p>
<p>In our case we run the following command:
<div class="highlight"><pre><span></span>&gt; python descriptive_stats.py
</pre></div>
When we run the program we should get the following output
<div class="highlight"><pre><span></span>HEATING                   14200
GENERAL CONSTRUCTION       7471
Street Light Condition     7117
DOF Literature Request     5797
PLUMBING                   5373
Name: Complaint Type, dtype: int64
</pre></div>
These is the top 5 311 complaints for 2010 in NYC.</p>
<p>Now that we have a working program lets commit it to the repo, just like before.
<div class="highlight"><pre><span></span>&gt; git add descriptive_stats.py # to the staging area
&gt; git commit -m &quot;Checking in descriptive_stats.py, output top 5 311 complaints&quot;
</pre></div>
In this case rather then launching a text editor to write a commit message we
used the <code>-m</code> option to make an in-line commit message. Our change doesn't
require a lengthy commit message. Now we should have a commited version of descriptive
stats.</p>
<p>Let's now decide that we want the top 10 311 complaints and modify our program
to output the top 10 results. Our current program should now be:
<div class="highlight"><pre><span></span>from __future__ import print_function
import pandas as pd

fname_data = &#39;311-service-requests.csv&#39;
df_311_calls = pd.read_csv(&#39;311-service-requests.csv&#39;)
print( df_311_calls[&#39;Complaint Type&#39;].value_counts[:10])
</pre></div>
Let's commit that change:
<div class="highlight"><pre><span></span>git add descriptive_stats.py
git commit -m &quot;Changed the top 5 results to the top 10 results in descriptive_stats.py&quot;
</pre></div>
If we look at our git log we should new be able to see history of our changes:
<div class="highlight"><pre><span></span>&gt; git log


commit 42c35933c4d52708c2562c1c05361b152a2b9230
Author: Clark Kent &lt;clark.kent@dailyplanet.com&gt;
Date:   Sat Nov 12 16:55:29 2016 -0600

    Changed the top 5 results to the top 10 results in descriptive_stats.py

commit ab85797b2c3d68fb0c97535080079138888b5556
Author: Clark Kent &lt;clark.kent@dailyplanet.com&gt;
Date:   Sat Nov 12 16:52:52 2016 -0600

    Checking-in descriptive_stats.py outputs the top 5 311 complaints

commit aaf89fd77e9b43d99fe32823843a7519b2108c90
Author: Clark Kent &lt;clark.kent@dailyplanet.com&gt;
Date:   Sat Nov 12 13:45:11 2016 -0600
        Checking in README file

    * Added short description of the project
    * Added python3 as a dependency
</pre></div>
Now let's look at the difference between the two commits in the log
using the <code>git diff</code> command. The <code>git diff</code> command is important
for seeing changes in your source code and comparing one commit against
another.</p>
<p>If we now invoke the command
<div class="highlight"><pre><span></span>&gt; git diff HEAD~1

diff --git a/descriptive_stats.py b/descriptive_stats.py
index 09b7168..c38d3e3 100644
--- a/descriptive_stats.py
+++ b/descriptive_stats.py
@@ -3,4 +3,4 @@ import pandas as pd

 fname_data = &#39;311-service-requests.csv&#39;
  df_311_calls = pd.read_csv(&#39;311-service-requests.csv&#39;)
  -print( df_311_calls[&#39;Complaint Type&#39;].value_counts()[:5] )
  +print( df_311_calls[&#39;Complaint Type&#39;].value_counts()[:10] )
</pre></div>
First <code>HEAD</code> is shorthand for the latest commit in the repository. <code>HEAD~1</code> is
a shorthand for the lastest commit minus one. For instance <code>HEAD~20</code> refers to the
a commit 20 commits ago.</p>
<p>The output of the diff file is the following. The first line looks similiar
to a diff command. The second line shows the commit identifiers of the two
commits being compared. The next two lines are the files being compared.
The interesting part is at the bottom. The line with the - sign is our
prior commit. The line with a + sign the the current commit. We can see
the difference is the change between 5 to 10.</p>
<p>We can "checkout" old versions of our files using the checkout command. This
is a very handy feature for when we break something and want to start from a
working copy or if we have an old feature that has since been discarded it can
be restored.</p>
<p>Let's now go back to our prior commit using the <code>git checkout</code> command
<div class="highlight"><pre><span></span>git checkout HEAD~1 descriptive_stats.py
</pre></div>
If we look at our file <code>descriptive_stats.py</code> we will have reverted
back to our old version.
<div class="highlight"><pre><span></span>git checkout HEAD descriptive_stats.py
</pre></div></p>
<p>Another useful <code>git diff</code> command is:
<div class="highlight"><pre><span></span>git diff --staged
</pre></div>
where we can examine the differences between files that have been staged
for commit and the last commit.</p>
<p>Next up we are going to go over how to host a project on GitHub.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/dssg/hitchhikers-guide" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/datascifellows" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://linkedin.com/company/center-for-data-science-and-public-policy-university-of-chicago" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../../assets/javascripts/application.267712eb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../../.."}})</script>
      
        <script src="../../../../../js/mermaid.min.js"></script>
      
    
  </body>
</html>